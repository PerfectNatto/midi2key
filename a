function base64ToMidiFile(base64Data, fileName) {
  // 1. Base64 → バイナリ文字列
  const binaryString = atob(base64Data);
  // 2. バイナリ文字列 → Uint8Array
  const len = binaryString.length;
  const bytes = new Uint8Array(len);
  for (let i = 0; i < len; i++) {
    bytes[i] = binaryString.charCodeAt(i);
  }
  // 3. Blob を経由して File を生成
  const blob = new Blob([bytes], { type: 'audio/midi' });
  return new File([blob], fileName, { type: 'audio/midi' });
}
