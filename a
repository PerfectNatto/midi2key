 _, n_freq, _ = real_stft.shape        # ← ここで周波数ビン数を取得

    # --- 周波数軸を逆順に並べ替える（1〜n_freq-2） ---
    rev_real_slices = [real_stft[:, i:i+1, :] for i in range(n_freq - 2, 0, -1)]
    rev_imag_slices = [imag_stft[:, i:i+1, :] for i in range(n_freq - 2, 0, -1)]

    # --- 連結（Concat） ---
    full_real_stft = torch.cat([real_stft] + rev_real_slices, dim=1)
    full_imag_stft = torch.cat([imag_stft] + [-s for s in rev_imag_slices], dim=1)
